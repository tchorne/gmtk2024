[gd_scene load_steps=17 format=3 uid="uid://c6wo6wsepace8"]

[ext_resource type="PackedScene" uid="uid://0ohahh5dri1q" path="res://src/generics/game.tscn" id="1_v1ojg"]
[ext_resource type="Script" path="res://src/ui/scale_select/scale_select.gd" id="2_l6sj4"]
[ext_resource type="Texture2D" uid="uid://6x22vwx86eux" path="res://assets/open/square_border.png" id="2_petyu"]
[ext_resource type="Texture2D" uid="uid://faudsihedmgi" path="res://assets/open/square.png" id="3_37xa8"]
[ext_resource type="Script" path="res://src/ui/gem_counter/xp_bar.gd" id="4_ndoum"]
[ext_resource type="Script" path="res://src/weapon/weapon_select.gd" id="5_0l4cg"]
[ext_resource type="PackedScene" uid="uid://dl166bonw3bbc" path="res://src/generics/scale_component.tscn" id="5_lquf2"]
[ext_resource type="PackedScene" uid="uid://dq1tvg6x1k6op" path="res://src/weapon/weapon_panel.tscn" id="6_10ymm"]
[ext_resource type="AudioStream" uid="uid://cwhn3cmhwxfms" path="res://assets/open/audio/blip_1.wav" id="8_v2thy"]
[ext_resource type="AudioStream" uid="uid://8a6idolagdu3" path="res://assets/open/audio/scale_up.wav" id="9_yeiha"]
[ext_resource type="AudioStream" uid="uid://bbge8uwqeg0n2" path="res://assets/ignore/music/30s.wav" id="10_3vtfo"]
[ext_resource type="Script" path="res://src/generics/music.gd" id="11_vwy6s"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c1am2"]
size = Vector2(300, 200)

[sub_resource type="CircleShape2D" id="CircleShape2D_kkpd5"]
radius = 69.0072

[sub_resource type="FontFile" id="FontFile_ppn4b"]
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0

[sub_resource type="Theme" id="Theme_evags"]
Label/fonts/font = SubResource("FontFile_ppn4b")

[node name="Main" type="Node"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
physics_object_picking = true
size = Vector2i(1152, 648)
render_target_update_mode = 0

[node name="Game" parent="SubViewportContainer/SubViewport" instance=ExtResource("1_v1ojg")]
visible = false

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Top" type="Control" parent="UI"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -20.0
offset_top = 6.0
offset_right = 20.0
offset_bottom = 46.0
grow_horizontal = 2
mouse_filter = 2

[node name="XPBar" type="TextureProgressBar" parent="UI/Top" groups=["XPBar"]]
texture_filter = 1
layout_mode = 0
offset_left = -114.0
offset_right = 115.0
offset_bottom = 40.0
max_value = 1.0
step = 0.0
nine_patch_stretch = true
stretch_margin_left = 4
stretch_margin_top = 4
stretch_margin_right = 4
stretch_margin_bottom = 4
texture_over = ExtResource("2_petyu")
texture_progress = ExtResource("3_37xa8")
script = ExtResource("4_ndoum")

[node name="SubtractBar" type="TextureProgressBar" parent="UI/Top/XPBar"]
texture_filter = 1
layout_mode = 0
offset_right = 229.0
offset_bottom = 40.0
max_value = 1.0
step = 0.0
nine_patch_stretch = true
stretch_margin_left = 4
stretch_margin_top = 4
stretch_margin_right = 4
stretch_margin_bottom = 4
texture_progress = ExtResource("3_37xa8")

[node name="ScaleComponent" parent="UI/Top/XPBar" instance=ExtResource("5_lquf2")]
scale_group = &"XPBar"
select_rectangle = SubResource("RectangleShape2D_c1am2")

[node name="WeaponSelect" type="Control" parent="UI" groups=["WeaponSelect"]]
texture_filter = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_0l4cg")

[node name="ColorRect" type="ColorRect" parent="UI/WeaponSelect"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0.152941)

[node name="HBoxContainer" type="HBoxContainer" parent="UI/WeaponSelect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -405.0
offset_top = -159.0
offset_right = 405.0
offset_bottom = 159.0
grow_horizontal = 2
grow_vertical = 2

[node name="WeaponPanel" parent="UI/WeaponSelect/HBoxContainer" instance=ExtResource("6_10ymm")]
layout_mode = 2

[node name="Area2D" type="Area2D" parent="UI"]
position = Vector2(165, 119)
collision_layer = 128
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI/Area2D"]
shape = SubResource("CircleShape2D_kkpd5")

[node name="ScaleSelect" type="Node" parent="."]
script = ExtResource("2_l6sj4")

[node name="ColorRect" type="ColorRect" parent="ScaleSelect"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0.152941)

[node name="SelectRect" type="NinePatchRect" parent="ScaleSelect"]
visible = false
texture_filter = 1
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("2_petyu")
patch_margin_left = 1
patch_margin_top = 1
patch_margin_right = 1
patch_margin_bottom = 1

[node name="SelectRects" type="Control" parent="ScaleSelect"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = SubResource("Theme_evags")

[node name="blip_1" type="AudioStreamPlayer" parent="ScaleSelect"]
stream = ExtResource("8_v2thy")

[node name="blip_2" type="AudioStreamPlayer" parent="ScaleSelect"]
stream = ExtResource("9_yeiha")

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_3vtfo")
autoplay = true
script = ExtResource("11_vwy6s")
